import{i as m}from"./interval-type-CIaujdcR.js";import{r as u}from"./result-aflA1LW7.js";import{n as f}from"./numbers-SvRH5ijj.js";(typeof window>"u"||!("requestAnimationFrame"in window))&&typeof window>"u"&&(globalThis.requestAnimationFrame=n=>{setTimeout(n,1)});const v=n=>{const o=m(n,1),e=n.signal,s=n.value;return u(f(o,"positive","timeoutMs")),o===0?new Promise(t=>requestAnimationFrame(r=>{t(s)})):new Promise((t,r)=>{const i=()=>{clearTimeout(a),e?(e.removeEventListener("abort",i),r(new Error(e.reason))):r(new Error("Cancelled"))};e&&e.addEventListener("abort",i);const a=setTimeout(()=>{if(e?.removeEventListener("abort",i),e?.aborted){r(new Error(e.reason));return}t(s)},o)})};export{v as s};
