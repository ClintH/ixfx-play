import"../modulepreload-polyfill-B5Qt9EMX.js";import{l as K}from"../log-BkcsJhgr.js";import{c as l}from"../forms-C4su1Q0P.js";import"../resolve-el-BUhvOf7L.js";import"../result-aflA1LW7.js";const A=Object.freeze({pointerEl:document.querySelector("#pointerArea"),currentEl:document.querySelector("#current"),log:K("#log")}),q=()=>{const{currentEl:e}=A;e&&(e.innerHTML="")},u=e=>Math.round(e),n=e=>{const{currentEl:a,log:p}=A,{isPrimary:m,pointerType:d,pointerId:i,type:c,shiftKey:s,ctrlKey:t,metaKey:g}=e,{movementX:h,movementY:k,x:$,y,offsetX:b,offsetY:P,screenX:E,screenY:w}=e;p.log(`${e.type} ${JSON.stringify(T(e))}`),console.log(e);let o=document.querySelector(`#ptr-${i}`);o===null&&(o=document.createElement("div"),o.id=`ptr-${i}`,a?.append(o));const r=[];s&&r.push("shift"),g&&r.push("meta"),t&&r.push("ctrl");const v=r.map(L=>`<kbd>${L}</kbd>`).join(" ");let f="";if(d==="pen"){const{pressure:L,twist:X,tangentialPressure:Y,tiltX:x,tiltY:z}=e;f+=`pressure: ${L}<br />twist: ${X} tangentialPressure: ${Y}<br />tilt: ${x},${z}<br />`,"altitudeAngle"in e&&"azimuthAngle"in e&&(f+=`altitudeAngle ${e.altitudeAngle}<br />azimuthAngle: ${e.azimuthAngle})<br />`),f+="<br />"}const S=`<table class="coords">
  <thead><td></td><td></td><td>offset</td><td>screen</td><td>movement</td></thead>
  <tr><td>x</td><td>${u($)}</td><td>${u(b)}</td><td>${u(E)}</td><td>${h}</td></tr>
  <tr><td>y</td><td>${u(y)}</td><td>${u(P)}</td><td>${u(w)}</td><td>${k}</td></tr>
  </table>`;o.innerHTML=`
  <h1>${i} ${d} ${m?"(primary)":""}</h1>
  ${c}<br />
  ${f}
  ${S}<br />
  ${v}<br >
  `},T=e=>{const{button:a,buttons:p,ctrlKey:m,isPrimary:d,metaKey:i,movementX:c,movementY:s,offsetX:t,offsetY:g,pageX:h,pageY:k,pointerId:$,pointerType:y,screenX:b,screenY:P,shiftKey:E,x:w,y:o}=e;let r={button:a,buttons:p,ctrlKey:m,isPrimary:d,metaKey:i,movementX:c,movementY:s,offsetX:t,offsetY:g,pageX:h,pageY:k,pointerId:$,pointerType:y,screenX:b,screenY:P,shiftKey:E,x:w,y:o};return e.pointerType!=="mouse"&&(r={...r,pressure:e.pressure,tangentialPressure:e.tangentialPressure,tiltX:e.tiltX,tiltY:e.tiltY,twist:e.twist}),"altitudeAngle"in e&&(r.altitudeAngle=e.altitudeAngle),"azimuthAngle"in e&&(r.azimuthAngle=e.azimuthAngle),"webkitForce"in e&&(r.webkitForce=e.webkitForce),r},F=()=>{const{pointerEl:e,log:a}=A;if(!e)return;const p=l("#evPointermove"),m=l("#evPointerenter"),d=l("#evPointerleave"),i=l("#evPointerover"),c=l("#evPointerdown"),s=l("#evPointerup");e.addEventListener("pointermove",t=>{p.checked&&n(t)}),e.addEventListener("pointerenter",t=>{m.checked&&n(t)}),e.addEventListener("pointerleave",t=>{d.checked&&n(t)}),e.addEventListener("pointerover",t=>{i.checked&&n(t)}),e.addEventListener("pointerdown",t=>{c.checked&&n(t)}),e.addEventListener("pointerup",t=>{s.checked&&n(t)}),e.addEventListener("webkitmouseforcedown",t=>{c.checked&&n(t)}),e.addEventListener("webkitmouseforceup",t=>{s.checked&&n(t)}),e.addEventListener("webkitforcechanged",t=>{console.log(t)}),document.querySelector("#btnCurrentReset")?.addEventListener("click",()=>{q()}),document.querySelector("#btnClearLog")?.addEventListener("click",()=>{a.clear()})};F();
