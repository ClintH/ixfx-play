import"../../modulepreload-polyfill-B5Qt9EMX.js";import{o as s,d as x}from"../../dom-source-CE_2PbT_.js";import{i as S,w as V,d as F,a as g,c as A}from"../../browser-resize-DniPczo4.js";import{c as E,i as T}from"../../index-C_lhlGLx.js";import"../../interval-type-CIaujdcR.js";import"../../result-aflA1LW7.js";import"../../numbers-SvRH5ijj.js";import"../../state-machine-ROMMoZIR.js";import"../../sleep-DwDBk_RX.js";import"../../error-message-BtgnhF27.js";import"../../async-Dr__bS9h.js";import"../../element-sizing-Bsx-rrC3.js";import"../../resolve-el-BUhvOf7L.js";import"../../guard-BPeP3-pA.js";import"../../guard-RzpFIjKH.js";import"../../conversion-CGf7QoDW.js";import"../../clamp-ClLuI7HB.js";import"../../subtract-BmiCoi7k.js";import"../../placeholder-DHFnYwCJ.js";import"../../timeout-BR7pLkQL.js";import"../../scale-KzsViUdl.js";import"../../round-CDFh2_Rm.js";import"../../maps-CLnHBw0l.js";import"../../interpolate-CjV-b_hr.js";import"../../length-BrmuG0lR.js";import"../../guard-DRLb5kU_.js";import"../../from-top-left-CR5-Vjbi.js";import"../../guard-DHhxSbUy.js";window.location.hash.includes("hide-panel")&&(document.querySelector("#right").style.display="none");const q=document.querySelector("#snippet"),a=(t,e)=>{const i=document.querySelector(`#${t}-x`);i.value=e.x.toString();const o=document.querySelector(`#${t}-y`);o.value=e.y.toString()},l=s({x:0,y:0});l.onValue(t=>{a("a",t),c()});const p=s({x:1,y:1});p.onValue(t=>{a("b",t),c()});const m=s({x:1,y:0});m.onValue(t=>{a("cubic1",t),c()});const u=s({x:0,y:1});u.onValue(t=>{a("cubic2",t),c()});const n=S({canvasResizeTo:"viewport",region:{match:"#target",marginPx:50}},{grid:{increments:.1},clear:"canvas",range:{min:{x:0,y:0},max:{x:1,y:1}},connectStyle:"line",valueStyle:"dot",textStyle:{size:"8px",colour:"gray"},axisStyle:{colour:"hsl(0,0%,20%)"},show:{grid:!1,axes:!0,axisValues:!0,whiskers:!0},whiskerLength:10});n.setMeta("default",{colour:"hsl(50,100%,50%)",lineWidth:10});V(200).onValue(t=>{n.positionElementAt(l.last(),"#point-a","middle"),n.positionElementAt(p.last(),"#point-b","middle"),n.positionElementAt(m.last(),"#point-cubic1","middle"),n.positionElementAt(u.last(),"#point-cubic2","middle")});function d(t,e){F(`#point-${t}`,{progress:i=>{let o=n.pointToValue(i.viewport,"screen");return(t==="a"||t==="b")&&(o=g(o)),e.set(o),{viewport:n.valueToScreenSpace(o)}},abort:(i,o)=>{console.log(`abort: ${i} - ${o}`)},success:i=>{let o=n.pointToValue(i.viewport,"screen");(t==="a"||t==="b")&&(o=g(o)),e.set(o)}},{autoTranslate:!0,quickDrag:!0}),n.positionElementAt(e.last(),`#point-${t}`,"middle"),a(t,e.last()),z(t,e)}function c(){const t=n.dataSet;t.clear();const e=l.last(),i=p.last(),o=m.last(),r=u.last(),w=E(e,i,o,r),y=T(w);let $=.03;for(let b=0;b<1;b+=$){const v=y(b);t.add(v)}t.add(y(1)),n.overlayLines=[{a:e,b:o,colour:"white",width:4},{a:i,b:r,colour:"white",width:4}];const h=[`const a = { x: ${e.x.toFixed(3)}, y: ${e.y.toFixed(3)} };`,`const b = { x: ${i.x.toFixed(3)}, y: ${i.y.toFixed(3)} };`,`const cubic1 = { x: ${o.x.toFixed(3)}, y: ${o.y.toFixed(3)} };`,`const cubic2 = { x: ${r.x.toFixed(3)}, y: ${r.y.toFixed(3)} };`,"Beziers.cubic(a, b, cubic1, cubic2);"];q.innerHTML=h.join("<br>"),n.draw()}function z(t,e){A({x:x(`#${t}-x`),y:x(`#${t}-y`,{emitInitialValue:!0})}).onValue(o=>{e.set(o),c(),n.positionElementAt(e.last(),`#point-${t}`,"middle")})}d("a",l);d("b",p);d("cubic1",m);d("cubic2",u);c();
