import"../../modulepreload-polyfill-B5Qt9EMX.js";import{o as m,d as y}from"../../dom-source-CE_2PbT_.js";import{i as x,w as $,d as S,a as h,c as V}from"../../browser-resize-DniPczo4.js";import{a as T,i as q}from"../../index-C_lhlGLx.js";import"../../interval-type-CIaujdcR.js";import"../../result-aflA1LW7.js";import"../../numbers-SvRH5ijj.js";import"../../state-machine-ROMMoZIR.js";import"../../sleep-DwDBk_RX.js";import"../../error-message-BtgnhF27.js";import"../../async-Dr__bS9h.js";import"../../element-sizing-Bsx-rrC3.js";import"../../resolve-el-BUhvOf7L.js";import"../../guard-BPeP3-pA.js";import"../../guard-RzpFIjKH.js";import"../../conversion-CGf7QoDW.js";import"../../clamp-ClLuI7HB.js";import"../../subtract-BmiCoi7k.js";import"../../placeholder-DHFnYwCJ.js";import"../../timeout-BR7pLkQL.js";import"../../scale-KzsViUdl.js";import"../../round-CDFh2_Rm.js";import"../../maps-CLnHBw0l.js";import"../../interpolate-CjV-b_hr.js";import"../../length-BrmuG0lR.js";import"../../guard-DRLb5kU_.js";import"../../from-top-left-CR5-Vjbi.js";import"../../guard-DHhxSbUy.js";window.location.hash.includes("hide-panel")&&(document.querySelector("#right").style.display="none");const A=document.querySelector("#snippet"),r=(t,e)=>{const i=document.querySelector(`#${t}-x`);i.value=e.x.toString();const o=document.querySelector(`#${t}-y`);o.value=e.y.toString()},s=m({x:0,y:0});s.onValue(t=>{r("a",t),a()});const l=m({x:1,y:1});l.onValue(t=>{r("b",t),a()});const c=m({x:1,y:0});c.onValue(t=>{r("handle1",t),a()});const n=x({canvasResizeTo:"viewport",region:{match:"#target",marginPx:50}},{grid:{increments:.1},clear:"canvas",range:{min:{x:0,y:0},max:{x:1,y:1}},connectStyle:"line",valueStyle:"dot",textStyle:{size:"8px",colour:"gray"},axisStyle:{colour:"hsl(0,0%,20%)"},show:{grid:!1,axes:!0,axisValues:!0,whiskers:!0},whiskerLength:10});n.setMeta("default",{colour:"hsl(50,100%,50%)",lineWidth:10});$(200).onValue(t=>{n.positionElementAt(s.last(),"#point-a","middle"),n.positionElementAt(l.last(),"#point-b","middle"),n.positionElementAt(c.last(),"#point-handle1","middle")});function d(t,e){S(`#point-${t}`,{progress:i=>{let o=n.pointToValue(i.viewport,"screen");return(t==="a"||t==="b")&&(o=h(o)),e.set(o),{viewport:n.valueToScreenSpace(o)}},abort:(i,o)=>{console.log(`abort: ${i} - ${o}`)},success:i=>{let o=n.pointToValue(i.viewport,"screen");(t==="a"||t==="b")&&(o=h(o)),e.set(o)}},{autoTranslate:!0,quickDrag:!0}),n.positionElementAt(e.last(),`#point-${t}`,"middle"),r(t,e.last()),E(t,e)}function a(){const t=n.dataSet;t.clear();const e=s.last(),i=l.last(),o=c.last(),b=T(e,i,o),u=q(b);let g=.03;for(let p=0;p<1;p+=g){const v=u(p);t.add(v)}t.add(u(1)),n.overlayLines=[{a:e,b:o,colour:"white",width:4},{a:i,b:o,colour:"white",width:4}];const w=[`const a = { x: ${e.x.toFixed(3)}, y: ${e.y.toFixed(3)} };`,`const b = { x: ${i.x.toFixed(3)}, y: ${i.y.toFixed(3)} };`,`const h = { x: ${o.x.toFixed(3)}, y: ${o.y.toFixed(3)} };`,"Beziers.cubic(a, b, h);"];A.innerHTML=w.join("<br>"),n.draw()}function E(t,e){V({x:y(`#${t}-x`),y:y(`#${t}-y`,{emitInitialValue:!0})}).onValue(o=>{e.set(o),a(),n.positionElementAt(e.last(),`#point-${t}`,"middle")})}d("a",s);d("b",l);d("handle1",c);a();
