import{i}from"./interval-type-CIaujdcR.js";import{s as u}from"./sleep-DwDBk_RX.js";async function w(a,t){const e=i(t,1e3),n=await Promise.race([(async()=>{await u({millis:e,signal:t.signal})})(),(async()=>await a.next())()]);if(n===void 0)throw new Error("Timeout");return n}async function f(a,t={}){const e=[],n=a[Symbol.asyncIterator](),o=Date.now(),c=t.limit??Number.POSITIVE_INFINITY,r=t.while,l=i(t.elapsed,Number.POSITIVE_INFINITY);for(;e.length<c&&Date.now()-o<l&&!(r&&!r(e.length));){const s=await n.next();if(s.done)break;e.push(s.value)}return e}export{w as n,f as t};
