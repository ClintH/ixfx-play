<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIDI Playground</title>
    <script type="importmap">{ "imports": { "@ixfx/": "/ixfx/" } }</script>
  </head>
  <style>
    *,
*:before,
*:after,
html,
body {
  box-sizing: border-box;
}

:root {
  color-scheme: light dark;
  --hue: 210;
  --font: system-ui;
  --mono-font: Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace;
  --light: hsl(var(--hue), 10%, 80%);
  --dark: hsl(var(--hue), 80%, 5%);
  --accent: light-dark(hsl(var(--hue), 100%, 40%),hsl(var(--hue), 100%, 80%) );
  --accent-darker:light-dark(hsl(var(--hue), 100%, 20%),hsl(var(--hue), 100%, 40%) );
  --bg: light-dark(var(--light), var(--dark));
  --fg: light-dark(var(--dark), var(--light));
}

body {
  background-color: var(--bg);
  color: var(--fg);
  font-family: var(--font);
}

a:link,a:visited {
  color: light-dark(var(--dark), var(--light));
  text-decoration-style: wavy;
}
a:hover {
  color: var(--accent);
}
  .last {
    font-family: var(--mono-font);
    padding: 1em;
  }

  .log {
    height: 5em;
    font-family: var(--mono-font);
  }
  section {
    padding: 1em;
    margin: 1em;
  }
  .io {
    border: 3px solid var(--accent);
    border-radius: 7px;
  }
  .io>h2 {
    margin-top: 0;
    padding-top: 0;
  }
  </style>
  <body>
    <section>
      <h1>MIDI</h1>
      <p>Connect MIDI inputs to your computer and hit some buttons. Not compatible with Safari browser.</p>
      <label for="inputDevice">Input
        <select id="inputDevice">
          <option value="all">Omni</option>
        </select></label>
      <label for="outputDevice">Output
        <select id="outputDevice">
          <option value="all">Omni</option>
        </select></label>
      <div class="log" id="mainLog"></div>
    </section>
    <section class="io">
      <h2>Input</h2>
      Filter:
      <label for="evFilterNotes">Notes</label>
      <input type="checkbox" checked id="evFilterNotes">
      <label for="evFilterCc">CC</label>
      <input type="checkbox" checked id="evFilterCc">
      <label for="evFilterPb">Pitchbend</label>
      <input type="checkbox" checked id="evFilterPb">
      <div>
        <div class="last" id="inputLast"></div>
      </div>
      <div>
        <button id="btnInputLogClear">Clear</button>
        <div class="log" id="inputLog"></div>
      </div>
    </section>
    <section class="io">
      <h2>Output</h2>
      <label for="outFollow">Follow input</label>
      <input type="checkbox" checked id="outFollow">
      <label for="outChannel">Channel</label>
      <input type="number" min="0" value="1" max="127" id="outChannel">
      <label for="outVelocity">Velocity</label>
      <input type="number" min="0" value="50" max="127" id="outVelocity">
      <h3>CC</h3>
      <label for="outCc">CC</label>
      <input type="number" min="0" value="1" max="127" id="outCc">
      <button id="btnSendCc">Send CC</button>
      <h3>Note</h3>
      <label for="outNote">Note</label>
      <input type="number" min="0" value="1" max="127" id="outNote">
      <label for="outNoteDuration">Duration (ms)</label>
      <input type="number" min="0" value="100" max="1000" id="outNoteDuration">
      <button id="btnSendNote">Send Note</button>
      <div>
        <button id="btnOutputLogClear">Clear</button>
        <div class="log" id="outputLog"></div>
      </div>
    </section>
    <script type="module" src="script.ts"></script>
  </body>
</html>